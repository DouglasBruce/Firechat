<app-sign-nav></app-sign-nav>
<div class="container boxSizing">
    <div class="cardContainer">
      <div class="progressBarContainer">
        <mat-progress-bar *ngIf="isProgressBar" class="progressBar" mode="indeterminate"></mat-progress-bar>
      </div>
      <div class="formContainer">
        <div class="firstSectionContainer">
          <div class="logoContainer">
            <div id="logo" class="logo">
              <span class="g_blue">F</span>
              <span class="g_red">i</span>
              <span class="g_yellow">r</span>
              <span class="g_blue">e</span>
              <span class="g_green">c</span>
              <span class="g_red">h</span>
              <span class="g_yellow">a</span>
              <span class="g_green">t</span>
            </div>
          </div>
          <div class="cardContentContainer">
            <div>
              <h1 class="headingText">Create your Firechat Account</h1>
            </div>
            <div class="cardFormContainer">
              <div class="cardForm">
                <div>
                  <form [formGroup]="signUpForm" novalidate>
                    <button mat-flat-button color="primary" (click)="next()" style="display: none;"><span class="btnMat">Next</span></button>
                    <div class="nameContainer">
                      <mat-form-field hideRequiredMarker="true" spellcheck="false" color="primary" appearance="outline" style="padding-top: 8px;">
                        <mat-label>Username</mat-label>
                        <input matInput formControlName="displayName" required type="text" autocomplete="off" autofocus [errorStateMatcher]="matcher">
                        <mat-icon *ngIf="displayName.valid" matSuffix style="color: #1db954; opacity: 0.65;">done</mat-icon>
                        <mat-hint *ngIf="displayName.pending">Checking availability of {{ displayName.value }}</mat-hint>
                        <mat-error *ngIf="displayName.invalid" class="matErr"><mat-icon class="matErrIcon">error</mat-icon> {{getDisplayNameErrorMessage()}}</mat-error>
                      </mat-form-field>
                    </div>
                    <div class="emailContainer">
                      <mat-form-field hideRequiredMarker="true" spellcheck="false" color="primary" appearance="outline" style="padding-top: 8px;">
                        <mat-label>Email</mat-label>
                        <input matInput formControlName="email" required email type="email" autocomplete="off" autofocus [errorStateMatcher]="matcher">
                        <mat-icon *ngIf="email.valid" matSuffix style="color: #1db954; opacity: 0.65;">done</mat-icon>
                        <mat-hint *ngIf="email.pending">Checking availability of {{ email.value }}</mat-hint>
                        <mat-error *ngIf="email.invalid" class="matErr"><mat-icon class="matErrIcon">error</mat-icon> {{getEmailErrorMessage()}}</mat-error>
                        <mat-hint *ngIf="!email.pending">You can use letters, numbers & periods</mat-hint>
                      </mat-form-field>
                    </div>
                    <div class="passwordContainer">
                      <div class="inputContainer">
                        <div class="firstContainer">
                          <mat-form-field hideRequiredMarker="true" spellcheck="false" color="primary" appearance="outline" class="passwordInput">
                            <mat-label>Password</mat-label>
                            <input matInput formControlName="password" required [type]="isPassVis ? 'text':'password'" autocomplete="off" autofocus [errorStateMatcher]="matcher">
                            <mat-icon *ngIf="password.valid" matSuffix style="color: #1db954; opacity: 0.65;">done</mat-icon>
                            <mat-error *ngIf="password.invalid" class="matErr"><mat-icon class="matErrIcon">error</mat-icon> {{getPasswordErrorMessage()}}</mat-error>
                          </mat-form-field>
                        </div>
                        <div class="lastContainer">
                          <mat-form-field hideRequiredMarker="true" spellcheck="false" color="primary" appearance="outline" class="passwordInput">
                            <mat-label>Confirm</mat-label>
                            <input matInput formControlName="confirmPassword" required [type]="isPassVis ? 'text':'password'" autocomplete="off" autofocus [errorStateMatcher]="matcher">
                            <mat-icon *ngIf="confirmPassword.valid" matSuffix style="color: #1db954; opacity: 0.65;">done</mat-icon>
                            <mat-error *ngIf="confirmPassword.invalid" class="matErr"><mat-icon class="matErrIcon">error</mat-icon> {{getConfirmPasswordErrorMessage()}}</mat-error>
                          </mat-form-field>
                        </div>
                        <div class="hint sm" *ngIf="!password.invalid || password.pristine">Use 8 or more characters with a mix of letters, numbers & symbols</div>
                        <div class="hint lg" *ngIf="(!password.invalid && !confirmPassword.invalid) || (password.pristine && confirmPassword.pristine) || (password.valid && confirmPassword.pristine) || (password.pristine && confirmPassword.valid)">Use 8 or more characters with a mix of letters, numbers & symbols</div>
                      </div>
                      <div class="iconContainer">
                        <button mat-icon-button style="margin-top: 4px;">
                          <mat-icon *ngIf="isPassVis" (click)="isPassVis = !isPassVis" matTooltip="{{isPassVis ? 'Hide password' : 'Show password'}}" style="opacity: 0.65;">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                              <path fill="none" d="M0 0h24v24H0V0z"/>
                              <path d="M12 6c3.79 0 7.17 2.13 8.82 5.5C19.17 14.87 15.79 17 12 17s-7.17-2.13-8.82-5.5C4.83 8.13 8.21 6 12 6m0-2C7 4 2.73 7.11 1 11.5 2.73 15.89 7 19 12 19s9.27-3.11 11-7.5C21.27 7.11 17 4 12 4zm0 5c1.38 0 2.5 1.12 2.5 2.5S13.38 14 12 14s-2.5-1.12-2.5-2.5S10.62 9 12 9m0-2c-2.48 0-4.5 2.02-4.5 4.5S9.52 16 12 16s4.5-2.02 4.5-4.5S14.48 7 12 7z"/>
                            </svg>
                          </mat-icon>
                          <mat-icon *ngIf="!isPassVis" (click)="isPassVis = !isPassVis" matTooltip="{{isPassVis ? 'Hide password' : 'Show password'}}" style="opacity: 0.65;">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" style="cursor: pointer;">
                              <path fill="none" d="M0 0h24v24H0V0zm0 0h24v24H0V0zm0 0h24v24H0V0zm0 0h24v24H0V0z"/>
                              <path d="M12 6c3.79 0 7.17 2.13 8.82 5.5-.59 1.22-1.42 2.27-2.41 3.12l1.41 1.41c1.39-1.23 2.49-2.77 3.18-4.53C21.27 7.11 17 4 12 4c-1.27 0-2.49.2-3.64.57l1.65 1.65C10.66 6.09 11.32 6 12 6zm-1.07 1.14L13 9.21c.57.25 1.03.71 1.28 1.28l2.07 2.07c.08-.34.14-.7.14-1.07C16.5 9.01 14.48 7 12 7c-.37 0-.72.05-1.07.14zM2.01 3.87l2.68 2.68C3.06 7.83 1.77 9.53 1 11.5 2.73 15.89 7 19 12 19c1.52 0 2.98-.29 4.32-.82l3.42 3.42 1.41-1.41L3.42 2.45 2.01 3.87zm7.5 7.5l2.61 2.61c-.04.01-.08.02-.12.02-1.38 0-2.5-1.12-2.5-2.5 0-.05.01-.08.01-.13zm-3.4-3.4l1.75 1.75c-.23.55-.36 1.15-.36 1.78 0 2.48 2.02 4.5 4.5 4.5.63 0 1.23-.13 1.77-.36l.98.98c-.88.24-1.8.38-2.75.38-3.79 0-7.17-2.13-8.82-5.5.7-1.43 1.72-2.61 2.93-3.53z"/>
                            </svg>
                          </mat-icon>
                        </button>
                      </div>
                    </div>
                  </form>
                </div>
                <div class="cardActionContainer">
                  <div class="buttonContainer">
                    <button mat-flat-button color="primary" (click)="next()" [disabled]="signUpForm.invalid || displayName.pending || email.pending"><span class="btnMat">Next</span></button>
                  </div>
                  <div class="textContainer">
                    <button mat-button color="primary" (click)="signIn()"><span style="letter-spacing: .25px; font-family: 'Product Sans', Roboto, Arial, sans-serif;">Sign in instead</span></button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>